<!-- photos / custom -->
{% assign title = include.title | strip_newlines | strip | escape_once | normalize_whitespace -%}
{% assign alt = include.alt | default: include.caption | default: title -%}
{% assign ratio = include.ratio -%}

<div class="Photo {{ include.classname}}">
  <div class="Photo__content">
    <figure class="figure">
      <picture>
        <source
          data-srcset="https://img.javier.computer/{{ include.location }}/{{ include.filename }}_2880.webp 2880w"
          type="image/webp"
        >
        <source
          data-srcset="https://img.javier.computer/{{ include.location }}/{{ include.filename }}_2880.jpg 2880w"
        >
        <img
          class="lazy"
          data-src="https://img.javier.computer/{{ include.location }}/{{ include.filename }}_2880.jpg"
          {% if ratio %}
            style="--aspect-ratio: {{ ratio }};"
          {% endif %}
          {% if alt and alt != '' %}
            alt="{{ alt }}"
          {% endif %}
          {% if title and title != '' %}
            title="{{ title }}"
          {% endif %}
          {% if include.caption -%}
            data-caption="{{ include.caption }}"
          {% endif %}
        >
      </picture>
    </figure>
    {% if include.caption -%}
      {% unless include.hide_caption -%}
        <figcaption>{{ include.caption }}</figcaption>
      {% endunless -%}
    {% endif -%}
  </div>
</div>
